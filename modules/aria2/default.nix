{ lib, ... }:
{
  services.aria2 = {
    enable = true;
    openPorts = true;
    extraArguments = lib.concatStringsSep " " [
      "--max-connection-per-server=8"
      "--min-split-size=1M"
      "--http-accept-gzip=true"
      "--seed-ratio=0.0"
      "--save-session=/var/lib/aria2/aria2.session"
      "--input-file=/var/lib/aria2/aria2.session"
      "--save-session-interval=5"
      "--force-save=true"
      "--bt-save-metadata=true"
      "--bt-load-saved-metadata=true"
      ("--bt-tracker=" + (lib.concatStringsSep "," [
        "http://nyaa.tracker.wf:7777/announce"
        "udp://open.stealth.si:80/announce"
        "udp://open.demonii.si:1337/announce"
        "udp://open.demonii.com:1337/announce"
        "udp://tracker.coppersurfer.tk:6969/announce"
        "udp://tracker.opentrackr.org:1337/announce"
        "udp://tracker.openbittorrent.com:6969/announce"
        "udp://ipv4.tracker.harry.lu:80/announce"
        "udp://p4p.arenabg.com:1337/announce"
        "udp://9.rarbg.me:2950"
        "udp://9.rarbg.to:2860"
        "udp://9.rarbg.com:2810/announce"
        "udp://tracker.fatkhoala.org:13730"
        "udp://tracker.tallpenguin.org:15770"
        "http://tracker.trackerfix.com:80/announce"
        "udp://tracker.torrent.eu.org:451/announce"
        "udp://tracker.tiny-vps.com:6969/announce"
        "udp://opentracker.i2p.rocks:6969/announce"
        "https://opentracker.i2p.rocks:443/announce"
        "udp://tracker.moeking.me:6969/announce"
        "udp://tracker.dler.org:6969/announce"
        "udp://movies.zsw.ca:6969/announce"
        "udp://explodie.org:6969/announce"
        "udp://exodus.desync.com:6969/announce"
        "udp://bt1.archive.org:6969/announce"
        "https://tracker.nanoha.org:443/announce"
        "https://tracker.lilithraws.org:443/announce"
        "https://tr.burnabyhighstar.com:443/announce"
        "http://tracker1.bt.moack.co.kr:80/announce"
        "http://tracker.mywaifu.best:6969/announce"
        "udp://tracker.openbittorrent.com:80/announce"
        "udp://tracker.publicbt.com:80/announce"
        "udp://tracker.prq.to:80/announce"
        "udp://104.238.198.186:8000/announce"
        "http://104.238.198.186:8000/announce"
        "http://94.228.192.98/announce"
        "http://share.dmhy.org/annonuce"
        "http://tracker.btcake.com/announce"
        "http://tracker.ktxp.com:6868/announce"
        "http://tracker.ktxp.com:7070/announce"
        "http://bt.sc-ol.com:2710/announce"
        "http://open.acgtracker.com:1096/announce"
        "http://btfile.sdo.com:6961/announce"
        "https://t-115.rhcloud.com/only_for_ylbud"
        "http://tr.bangumi.moe:6969/announce"
        "http://exodus.desync.com:6969/announce"
        "udp://coppersurfer.tk:6969/announce"
        "http://tracker3.torrentino.com/announce"
        "http://tracker2.torrentino.com/announce"
        "udp://tracker.ex.ua:80/announce"
        "http://pubt.net:2710/announce"
        "http://tracker.tfile.me/announce"
        "http://bigfoot1942.sektori.org:6969/announce"
        "http://t.nyaatracker.com/announce"
        "udp://bt.sc-ol.com:2710/announce"
      ]))
      "--https-proxy=http://127.0.0.1:7890"
    ];
  };
}
